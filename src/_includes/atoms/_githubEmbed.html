{%- from "system/function.njk" import function -%}
{% if params.data.classtag %}
<section id="{{params.data.repo}}-{{params.data.classtag}}-{{params.data.state}}" class="githubEmbed">
    {% else %}
    <section id="{{params.data.repo}}-{{params.data.tag}}-{{params.data.state}}" class="githubEmbed">
        {% endif %}
        {{ function('github-api', 'true', {
            data: {
                containerID: params.data.repo + '-' + params.data.tag + '-' + params.data.state,
                api: '/' + params.data.api,
                repo: '/' + params.data.repo,
                tag: '/' + params.data.tag,
                state: params.data.state
            }
        }) }}
        {% else %}
        {% if params.data.classtag %}
        <section id="{{params.data.repo}}-{{params.data.classtag}}" class="githubEmbed">
            {{ function('github-api', 'true', {
            data: {
                containerID: params.data.repo + '-' + params.data.classtag,
                api: '/' + params.data.api,
                repo: '/' + params.data.repo,
                tag: '/' + params.data.tag,
                state: ''
            }
        }) }}
            {% else %}
            <section id="{{params.data.repo}}-{{params.data.tag}}" class="githubEmbed">
                {{ function('github-api', 'true', {
                data: {
                    containerID: params.data.repo + '-' + params.data.tag,
                    api: '/' + params.data.api,
                    repo: '/' + params.data.repo,
                    tag: '/' + params.data.tag,
                    state: ''
                }
            }) }}
                {% endif %}
            </section>